Next2D Player
=============
<div align="center">
  <img src="https://next2d.app/assets/img/player/logo.svg" width="250" alt="Next2D Player">
</div>

[![UnitTest](https://github.com/Next2D/Player/actions/workflows/integration.yml/badge.svg?branch=main)](https://github.com/Next2D/Player/actions/workflows/integration.yml)
[![CodeQL](https://github.com/Next2D/player/actions/workflows/github-code-scanning/codeql/badge.svg?branch=main)](https://github.com/Next2D/player/actions/workflows/github-code-scanning/codeql)
[![Lint](https://github.com/Next2D/Player/actions/workflows/lint.yml/badge.svg?branch=main)](https://github.com/Next2D/Player/actions/workflows/lint.yml)

[![release](https://img.shields.io/github/v/release/Next2D/Player)](https://github.com/Next2D/Player/releases)
[![Github All Releases](https://img.shields.io/npm/dt/@next2d/player)](https://github.com/Next2D/Player/releases)
[![Discord](https://badgen.net/badge/icon/discord?icon=discord&label)](https://discord.gg/6c9rv5Uns5)
[![Twitter](https://img.shields.io/twitter/follow/Next2D?style=social)](https://twitter.com/Next2D)

[æ—¥æœ¬èª]  
Next2D Playerã¯ã€WebGLã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¢ã‚¯ã‚»ãƒ©ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹å‡¦ç†è² è·ã‚’è»½æ¸›ã—ã€OffscreenCanvasã®ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰å‡¦ç†ã§æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã¦ã„ã¾ã™ã€‚  
ãƒ™ã‚¯ã‚¿ãƒ¼æç”»ã€Tweenã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ†ã‚­ã‚¹ãƒˆã€éŸ³å£°ã€å‹•ç”»ãªã©ã€ã•ã¾ã–ã¾ãªè¦ç´ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã®ã§ã€ã‚²ãƒ¼ãƒ åˆ¶ä½œã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã€è±Šã‹ãªè¡¨ç¾ãŒå¿…è¦ã¨ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ´»ç”¨ãŒæœŸå¾…ã§ãã¾ã™ã€‚  
  
[English]  
Next2D Player reduces graphics processing load with WebGL hardware acceleration and improves drawing performance with OffscreenCanvas multi-threaded processing.  
With support for vector rendering, tween animation, text, audio, video, and many other elements, Next2D Player can be used for game production, interactive data visualization, creative web applications, and other projects that require rich expression. The software is expected to be used in game production, interactive data visualization, creative web applications and other projects requiring rich expression.  
  
[ç®€ä½“ä¸­æ–‡]  
Next2D Playeré€šè¿‡WebGLç¡¬ä»¶åŠ é€Ÿé™ä½äº†å›¾å½¢å¤„ç†è´Ÿè½½ï¼Œé€šè¿‡OffscreenCanvaså¤šçº¿ç¨‹å¤„ç†æé«˜äº†ç»˜å›¾æ€§èƒ½ã€‚  
ç”±äºæ”¯æŒçŸ¢é‡ç»˜å›¾ã€TweenåŠ¨ç”»ã€æ–‡æœ¬ã€éŸ³é¢‘ã€è§†é¢‘å’Œè®¸å¤šå…¶ä»–å…ƒç´ ï¼Œå®ƒå¯ç”¨äºæ¸¸æˆåˆ¶ä½œã€äº¤äº’å¼æ•°æ®å¯è§†åŒ–ã€åˆ›æ„ç½‘ç»œåº”ç”¨å’Œå…¶ä»–éœ€è¦ä¸°å¯Œè¡¨è¾¾çš„é¡¹ç›®ã€‚ è¯¥è½¯ä»¶å¯ç”¨äºéœ€è¦ä¸°å¯Œè¡¨ç°åŠ›çš„é¡¹ç›®ä¸­ã€‚  
  
## Support
[æ—¥æœ¬èª]  
æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚„æŠ€è¡“æƒ…å ±ã¯ã€Twitterã®[@Next2D](https://twitter.com/Next2D)ã‚„å…¬å¼ã®[Website](https://next2d.app/ja/)ã§ç™ºä¿¡ã—ã¦ã„ãã¾ã™ã®ã§ã€ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚  
Next2DãŒãŠå½¹ã«ç«‹ã¤ã‚ˆã†ã§ã—ãŸã‚‰ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã”æ”¯æ´ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚  
  
[English]  
Please check [@Next2D](https://twitter.com/Next2D) on Twitter and the [official website](https://next2d.app/en/) for the latest news and technical information.    
If Next2D is useful to you, we hope you will support our project.  
  
[ç®€ä½“ä¸­æ–‡]  
è¯·åœ¨Twitterä¸ŠæŸ¥çœ‹[@Next2D](https://twitter.com/Next2D)å’Œ[å®˜æ–¹ç½‘ç«™](https://next2d.app/cn/)ï¼Œäº†è§£æœ€æ–°çš„æ–°é—»å’ŒæŠ€æœ¯ä¿¡æ¯ã€‚  
å¦‚æœNext2Då¯¹ä½ æœ‰ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›ä½ èƒ½æ”¯æŒæˆ‘ä»¬çš„é¡¹ç›®ã€‚  
  
<div align="center">
  <a href="https://github.com/sponsors/Next2D" target="_blank">
    <img src="https://img.shields.io/static/v1?label=Sponsor&message=%E2%9D%A4&logo=GitHub&color=%23fe8e86" width=180 alt="GitHub Sponsor" />
  </a>
</div>

## Related Sites
* [Website](https://next2d.app)
* [Animation Tool](https://tool.next2d.app)
* [Framework](https://github.com/Next2D/framework)

## Examples

### Use Simple Sample
```javascript
next2d.load("Path to JSON output from Animation Tool");
```

### Use Program Sample For JavaScript
```javascript
const { Loader }     = next2d.display;
const { URLRequest } = next2d.net;
const { Event }      = next2d.events;

// create root MovieClip
const start = async () =>
{
    const request = new URLRequest("JSON path");
    const loader  = new Loader();
    await loader.load(request);

    const root = await next2d.createRootMovieClip();
    root.addChild(loader.contentLoaderInfo.content);
};

start();
```

### Use Program Sample For TypeScript
```typescript
import { Loader } from "@next2d/display";
import { URLRequest } from "@next2d/net";
import { Event } from "@next2d/events";

// create root MovieClip
const start = async (): Promise<void> =>
{
    const request = new URLRequest("JSON path");
    const loader  = new Loader();
    await loader.load(request);

    const root = await next2d.createRootMovieClip();
    root.addChild(loader.content);
};

start();
```

## Option settings

[æ—¥æœ¬èª]  

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å       | å‹       | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤        | èª¬æ˜                                                                    |
|--------------|---------|---------------|-----------------------------------------------------------------------|
| `fullScreen` | boolean | false         | Stageã‚¯ãƒ©ã‚¹ã§è¨­å®šã—ãŸå¹…ã¨é«˜ã•ã‚’è¶…ãˆã¦ç”»é¢å…¨ä½“ã«æç”»ã•ã‚Œã¾ã™ã€‚                                     |
| `tagId`      | string  | empty         | IDã‚’æŒ‡å®šã™ã‚‹ã¨ã€æŒ‡å®šã—ãŸIDã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆå†…ã§æç”»ã‚’è¡Œã„ã¾ã™ã€‚                                       |
| `bgColor`    | string  | "transparent" | èƒŒæ™¯è‰²ã‚’16é€²æ•°ã§æŒ‡å®šã§ãã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç„¡è‰²é€æ˜ã§ã™ã€‚                                         |

[English]  

| name           | type    | default       | description                                                                                                                         |
|----------------|---------|---------------|-------------------------------------------------------------------------------------------------------------------------------------|
| `fullScreen`   | boolean | false         | The entire screen is drawn beyond the width and height set in the Stage class.                                                      |
| `tagId`        | string  | empty         | When an ID is specified, drawing is performed within the element of the specified ID.                                               |
| `bgColor`      | string  | "transparent" | You can specify a background color in hexadecimal. The default is colorless.                                                        |

[ç®€ä½“ä¸­æ–‡]  

| åç§°           | å€¼ç±»å‹     | é»˜è®¤å€¼           | è¯´æ˜                                                |
|--------------|---------|---------------|---------------------------------------------------|
| `fullScreen` | boolean | false         | æ•´ä¸ªå±å¹•çš„ç»˜åˆ¶è¶…å‡ºäº†Stageç±»ä¸­è®¾ç½®çš„å®½åº¦å’Œé«˜åº¦ã€‚                        |
| `tagId`      | string  | empty         | å½“ä¸€ä¸ªIDè¢«æŒ‡å®šæ—¶ï¼Œåœ¨æŒ‡å®šIDçš„å…ƒç´ å†…è¿›è¡Œç»˜å›¾ã€‚                          |
| `bgColor`    | string  | "transparent" | ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªåå…­è¿›åˆ¶çš„èƒŒæ™¯é¢œè‰²ã€‚é»˜è®¤ä¸ºæ— è‰²ã€‚                           |

##  Flowchart

```mermaid
flowchart TB
    %% Main Drawing Flow Chart
    subgraph MainFlow["ğŸ¨ Drawing Flow Chart - Main Rendering Pipeline"]
        direction TB
        
        subgraph Inputs["Display Objects"]
            Shape["Shape<br/>(Bitmap/Vector)"]
            TextField["TextField<br/>(canvas2d)"]
            Video["Video Element"]
        end
        
        Shape --> MaskCheck
        TextField --> MaskCheck
        Video --> MaskCheck
        
        MaskCheck{"mask<br/>rendering?"}
        
        MaskCheck -->|YES| DirectRender["Direct Rendering"]
        DirectRender -->|drawArrays| FinalRender
        
        MaskCheck -->|NO| CacheCheck1{"cache<br/>exists?"}
        
        CacheCheck1 -->|NO| TextureAtlas["ğŸ“¦ Texture Atlas<br/>(Binary Tree Packing)"]
        TextureAtlas --> Coordinates
        
        CacheCheck1 -->|YES| Coordinates["ğŸ“ Coordinates DB<br/>(x, y, w, h)"]
        
        Coordinates --> FilterBlendCheck{"filter or<br/>blend?"}
        
        FilterBlendCheck -->|NO| MainArrays
        FilterBlendCheck -->|YES| NeedCache{"cache<br/>exists?"}
        
        NeedCache -->|NO| CacheRender["Render to Cache"]
        CacheRender --> TextureCache
        NeedCache -->|YES| TextureCache["ğŸ’¾ Texture Cache"]
        
        TextureCache -->|drawArrays| FinalRender
        
        MainArrays["âš¡ Instanced Arrays<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>matrix<br/>colorTransform<br/>Coordinates<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/><b>Batch Rendering</b>"]
        
        MainArrays -->|drawArraysInstanced<br/><b>Multiple objects in one call</b>| FinalRender["ğŸ¬ Final Rendering"]
        
        FinalRender -->|60fps| MainFramebuffer["ğŸ–¥ï¸ Main Framebuffer<br/>(Display)"]
    end
    
    %% Branch Flow for Filter/Blend/Mask
    subgraph BranchFlow["ğŸ­ Filter/Blend/Mask - Branch Processing"]
        direction TB
        
        subgraph FilterInputs["Display Objects"]
            Shape2["Shape<br/>(Bitmap/Vector)"]
            TextField2["TextField<br/>(canvas2d)"]
            Video2["Video Element"]
        end
        
        Shape2 --> CacheCheck2
        TextField2 --> CacheCheck2
        Video2 --> CacheCheck2
        
        CacheCheck2{"cache<br/>exists?"}
        
        CacheCheck2 -->|NO| EffectRender["Effect Rendering"]
        CacheCheck2 -->|YES| BranchArrays
        EffectRender --> BranchArrays
        
        BranchArrays["âš¡ Instanced Arrays<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>matrix<br/>colorTransform<br/>Coordinates<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/><b>Batch Rendering</b>"]
        
        BranchArrays -->|drawArraysInstanced<br/><b>Multiple objects in one call</b>| BranchRender["Effect Result"]
        
        BranchRender -->|filter/blend| TextureCache
    end
    
    %% Connections between flows
    FilterBlendCheck -.->|"trigger<br/>branch flow"| BranchFlow
    BranchArrays -.->|"rendering info<br/>(coordinates)"| MainArrays
    
    %% Styling
    style MainFlow fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style BranchFlow fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style Inputs fill:#f5f5f5,stroke:#9e9e9e,stroke-width:1px
    style FilterInputs fill:#f5f5f5,stroke:#9e9e9e,stroke-width:1px
    
    style MainArrays fill:#c8e6c9,stroke:#388e3c,stroke-width:3px
    style BranchArrays fill:#c8e6c9,stroke:#388e3c,stroke-width:3px
    style FinalRender fill:#ffecb3,stroke:#f57f17,stroke-width:2px
    style MainFramebuffer fill:#c5e1a5,stroke:#689f38,stroke-width:3px
    style TextureCache fill:#e1bee7,stroke:#8e24aa,stroke-width:2px
    style Coordinates fill:#b3e5fc,stroke:#0277bd,stroke-width:2px
    style TextureAtlas fill:#fff9c4,stroke:#f9a825,stroke-width:2px
```

## License
This project is licensed under the [MIT License](https://opensource.org/licenses/MIT) - see the [LICENSE](LICENSE) file for details.
